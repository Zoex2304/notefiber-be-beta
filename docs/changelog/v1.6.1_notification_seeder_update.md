# Changelog v1.6.1 - Cancellation Notification Seeder Update

**Release Date**: 2026-01-04

## Summary

This update addresses the missing notification issue for subscription cancellations by registering the necessary event types in the database seeder. This ensures that the notification system can properly trigger and deliver messages for cancellation requests and their outcomes.

---

## Changes

### 1. Database Seeder Updates

The `notification_seeder.go` has been updated to include two new notification types required for the cancellation workflow.

#### New Notification Events

| Code | Target | Priority | Channels | Trigger |
|------|--------|----------|----------|---------|
| `SUBSCRIPTION_CANCELLATION_REQUESTED` | ADMIN | HIGH | Web, Email | Triggered when a user requests subscription cancellation. |
| `SUBSCRIPTION_CANCELLATION_PROCESSED` | SELF (User) | HIGH | Web, Email | Triggered when an admin approves or rejects a cancellation request. |

### 2. Implementation Details

**Event: `SUBSCRIPTION_CANCELLATION_REQUESTED`**
- **Template:** "Subscription cancellation requested by {user_id} for subscription {subscription_id}. Reason: {reason}"
- **Purpose:** Alert admins to review pending cancellation requests.

**Event: `SUBSCRIPTION_CANCELLATION_PROCESSED`**
- **Template:** "Your subscription cancellation request for {plan_name} has been {status}."
- **Purpose:** Inform the user of the final decision regarding their cancellation request.

---

## Migration & Deployment

To apply these changes, the database seeder must be executed. This will insert the new notification types into the `notification_types` table if they do not already exist.

```bash
# Run the seeder (command may vary based on project setup)
go run cmd/seed/main.go
# OR specifically
go run cmd/seed/notification_seeder.go
```

No database schema changes are required; this is purely a data population update.
