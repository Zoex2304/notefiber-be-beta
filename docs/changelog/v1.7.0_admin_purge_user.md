# Admin Deep Purge User Endpoint (v1.7.0)

## Overview
Added a new administrative endpoint to perform a "deep purge" of user data. This operation is irreversible and removes all traces of a user from the system, including:
- User Record
- Subscriptions
- Billing Addresses
- Chat Sessions, Messages, and Citations
- Notes and Notebooks
- Note Embeddings
- Refunds and Cancellations

## Logic
The operation uses a transactional approach per user to ensure atomicity. If a purge fails for a specific user in a bulk request, the system rolls back that specific user's deletion and continues with others (Best Effort).

## API Contract

**Endpoint:** `POST /api/admin/users/purge`

**Authorization:** `Bearer <token>` (Admin Role Required)

**Request Body:**
```json
{
  "user_ids": [
    "uuid-1",
    "uuid-2"
  ]
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "message": "Users purged",
  "data": {
    "deleted_count": 1,
    "failed_users": [
      {
        "user_id": "uuid-2",
        "error": "some specific error"
      }
    ]
  }
}
```
